import { Component, OnInit } from '@angular/core';
import { environment } from 'src/environments/environment';
import { Router } from '@angular/router';
import Swal from 'sweetalert2/dist/sweetalert2.js';
import 'sweetalert2/src/sweetalert2.scss';
import { WebuserService } from '../Services/webuser.service';
import { Iwebuser } from '../Models/webuser';

@Component({
  selector: 'app-login',
  templateUrl: './login.component.html',
  styleUrls: ['./login.component.css']
})
export class LoginComponent implements OnInit {

  passwordType = 'password';
  passwordShow = false;
  password = '';
  usuario = '';

  public imgLogo = 'data:image/png;base64,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';
  public imgLogoB = 'data:image/png;base64,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';

  // tslint:disable-next-line: variable-name
  public _Iuser: Iwebuser = { webUsu: '', webPass: '' };
  env = environment;
  public arr: any = {
    webUsu: '', webPass: '', tipoMu: ''
  }

  constructor(  public userService: WebuserService,
                public router: Router) { }
  ngOnInit() {
    this.verificacion ();
  }

  TokenGenerator() {
    var text = '';
    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
    // tslint:disable-next-line: curly
    for (let i = 0; i < 5; i++) text += possible.charAt(Math.floor(Math.random() * possible.length));
    return text;
  }

  passwordHidShow() {
    console.log('activado');
    if (!this.passwordShow) {
      this.passwordShow = true;
      this.passwordType = 'text';
    } else {
      this.passwordShow = false;
      this.passwordType = 'password';
    }
  }

  getUser(user) {
    this.userService.getUsByParam(user).subscribe(y => {
        this.arr = y;
        localStorage.setItem('Token', this.arr[0].tipoMu);
    })
  }

  logeo() {
    this.userService.login(this._Iuser)
      .subscribe(x => {
        this.env.header = true;
        this.env.nameUser = x.webUsu;
        localStorage.setItem('User',x.webUsu);
        localStorage.setItem('Key', this.TokenGenerator());
        localStorage.setItem('DateIngreso', Date());
        // localStorage.setItem('Token', x.tipoMu);
        this.verificacion ();
        this.getUser(localStorage.getItem('User'));
        Swal.fire({
                    icon: 'success',
                    title: 'Bien...',
                    text: 'Has ingresado con exito!',
                    footer: ''
      });
      }, err => {
        Swal.fire({
                  icon:  'error',
                  title: 'Oops...',
                  text:  'Verifica tus credenciales!',
                  footer: ''
                });
      });
  }


  verificacion (){
    if (localStorage.getItem('User') != null) {
      this.env.header = true;
      this.router.navigate(['\HomeView']);
    }
    else {
      this.router.navigate(['\Login']);
    }
  }



}
